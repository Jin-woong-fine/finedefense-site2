<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>ìˆ˜ì¤‘ê³ ì •í˜•ì¼€ì´ë¸” | Fine Defense</title>
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/css/sub-banner.css">

  <style>
    .product-section {
      max-width: 1200px;
      margin: 40px auto;
      padding: 20px 40px;
      background: #fff;
      border-radius: 12px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.05);
    }

    .product-cards {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(480px, 1fr));
      gap: 30px;
    }

    .product-card {
      display: flex;
      background: #fff;
      border-radius: 14px;
      overflow: hidden;
      text-decoration: none;
      color: inherit;
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
      transition: .25s;
    }
    .product-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 8px 20px rgba(0,0,0,0.15);
    }

    .card-image {
      flex: 0 0 40%;
      height: 200px; /* ğŸ”¥ ì„¸ë¡œ ì‚¬ì§„ í¬ê²Œ ë³´ì´ëŠ” ë¬¸ì œ í•´ê²° */
      display: flex;
      align-items: center;
      justify-content: center;
      background: #f9f9f9;
      overflow: hidden;
    }
    .card-image img {
      max-width: 100%;
      max-height: 100%;
      object-fit: contain;
      display: block;
    }

    .card-content {
      flex: 1;
      padding: 24px;
    }
    .card-content h3 {
      margin-top: 0;
      margin-bottom: 10px;
      color: #0f2679;
    }
  </style>
</head>

<body>

<div id="header"></div>

<section class="sub-banner">
  <img src="/img/sub-banners/cable.jpg" alt="">
  <div class="banner-text">
    <h1>ì œí’ˆì†Œê°œ</h1>
    <p>í•´ì–‘ ë°©ì‚° í˜„ì¥ì„ ì—°ê²°í•˜ëŠ” ì¼€ì´ë¸” ì†”ë£¨ì…˜</p>
  </div>
</section>

<div class="breadcrumb">
  <a href="/kr/index.html">í™ˆ</a> &gt;
  <span class="crumb crumb-level1">ì œí’ˆì†Œê°œ</span> &gt;
  <span class="crumb crumb-level2">ìˆ˜ì¤‘ê³ ì •í˜•ì¼€ì´ë¸”</span>
  <div id="side-tabs" class="side-tabs"></div>
</div>

<section class="product-section">
  <h1>ìˆ˜ì¤‘ê³ ì •í˜•ì¼€ì´ë¸”</h1>
  <p>
    ì ìˆ˜í•¨, í•´ì–‘êµ¬ì¡°ë¬¼, í•´ì € ì¥ë¹„ì— ê³ ì • ì„¤ì¹˜ë˜ëŠ” ì‹ í˜¸Â·ì „ë ¥ ì¼€ì´ë¸”ì…ë‹ˆë‹¤.
    ê³ ì••Â·ê³ ë‚´ì‹ í™˜ê²½ì—ì„œë„ ì•ˆì •ì„±ì„ ìœ ì§€í•˜ë„ë¡ ì„¤ê³„ë©ë‹ˆë‹¤.
  </p>

  <div id="productCards" class="product-cards"></div>
</section>

<div id="footer"></div>

<script src="/js/nav.js"></script>
<script src="/js/language.js"></script>

<script>
  function stripHtml(html) {
    const tmp = document.createElement("div");
    tmp.innerHTML = html;
    return tmp.textContent || "";
  }

  async function loadProducts() {
    const box = document.getElementById("productCards");

    try {
      const res = await fetch("/api/products");
      const all = await res.json();

      const list = all.filter(p => p.category === "fixed");

      box.innerHTML = list.map(p => `
        <a class="product-card" href="/kr/sub/products/product-view.html?id=${p.id}">
          <div class="card-image">
            <img src="${p.thumbnail || '/img/products/Image-placeholder.png'}" alt="">
          </div>
          <div class="card-content">
            <h3>${p.title}</h3>
            <p>${stripHtml(p.description_html).substring(0, 100)}...</p>
          </div>
        </a>
      `).join("");

    } catch (err) {
      box.innerHTML = "<p>ë¶ˆëŸ¬ì˜¤ê¸° ì˜¤ë¥˜</p>";
    }
  }

  loadProducts();
</script>

</body>
</html>
