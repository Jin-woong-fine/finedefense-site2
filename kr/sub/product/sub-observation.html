<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="해양관측용 다목적 해저케이블 상세페이지" />
    <title>해양관측용 다목적 해저케이블 상세페이지</title>

    <!-- ✅ 공통 CSS -->
    <link rel="stylesheet" href="/css/style.css" />
    <link rel="stylesheet" href="/css/sub-banner.css" />

    <style>
      /* ===== 제품 상세 ===== */
      .product-detail {
        max-width: 1200px;
        margin: 60px auto 80px;
        padding: 40px;
        background: #fff;
        border-radius: 14px;
        box-shadow: 0 2px 12px rgba(0, 0, 0, 0.06);
      }

      .product-detail h1 {
        font-size: 2rem;
        color: #0f2679;
        margin-bottom: 32px;
        text-align: center;
      }

      /* === 본문 좌우 배치 === */
      .product-content {
        display: flex;
        flex-wrap: wrap;
        align-items: flex-start;
        justify-content: center;
        gap: 40px;
      }

      /* ===== 왼쪽: 이미지 갤러리 ===== */
      .product-gallery {
        flex: 1 1 45%;
        text-align: center;
      }

      .main-image img {
        width: 100%;
        max-width: 400px;
        border-radius: 12px;
        box-shadow: 0 2px 8px rgba(0,0,0,0.08);
        cursor: pointer;
        transition: transform 0.2s;
      }

      .main-image img:hover {
        transform: scale(1.02);
      }

      /* 썸네일 리스트 */
      .thumb-list {
        margin-top: 15px;
        display: flex;
        justify-content: center;
        gap: 10px;
        flex-wrap: wrap;
      }

      .thumb-list img {
        width: 90px;
        height: 90px;
        object-fit: cover;
        border-radius: 8px;
        cursor: pointer;
        opacity: 0.7;
        transition: opacity 0.2s, transform 0.2s;
        border: 2px solid transparent;
      }

      .thumb-list img:hover {
        opacity: 1;
        transform: scale(1.05);
      }

      .thumb-list img.active {
        opacity: 1;
        border-color: #0f2679;
      }

      /* ===== 오른쪽: 설명 ===== */
      .product-desc {
        flex: 1 1 45%;
        font-size: 1.05rem;
        line-height: 1.8;
        color: #333;
      }

      .product-desc ul {
        list-style-type: disc;
        padding-left: 20px;
        margin: 0 0 20px 0;
      }

      .product-desc li {
        line-height: 1.8;
        margin-bottom: 10px;
        color: #333;
      }

      /* 목록보기 버튼 */
      .back-btn {
        display: inline-block;
        margin-top: 30px;
        padding: 12px 28px;
        border-radius: 8px;
        background: #0f2679;
        color: #fff;
        text-decoration: none;
        font-weight: 600;
        transition: background 0.2s;
      }

      .back-btn:hover {
        background: #1d3ca0;
      }

      /* ====== 모달(큰 이미지 보기) ====== */
      .modal {
        display: none;
        position: fixed;
        z-index: 9999;
        padding-top: 60px;
        left: 0; top: 0;
        width: 100%; height: 100%;
        background-color: rgba(0,0,0,0.85);
        text-align: center;
      }

      .modal-content {
        margin: auto;
        max-width: 90%;
        max-height: 80vh;
        border-radius: 12px;
        box-shadow: 0 4px 16px rgba(0,0,0,0.3);
      }

      .close {
        position: absolute;
        top: 20px; right: 40px;
        color: #fff;
        font-size: 40px;
        font-weight: bold;
        cursor: pointer;
        transition: color 0.2s;
      }

      .close:hover {
        color: #ccc;
      }

      /* === 반응형 (모바일 세로 정렬) === */
      @media (max-width: 768px) {
        .product-content {
          flex-direction: column;
          align-items: center;
        }
        .product-gallery, .product-desc {
          flex: 1 1 100%;
        }
        .main-image img {
          max-width: 100%;
        }
      }

    </style>
  </head>

  <body>
    <!-- ✅ 1. 헤더 -->
    <div id="header"></div>

    <!-- ✅ 2. 배너 -->
    <section class="sub-banner">
      <img src="/img/sub-banners/cable.jpg" alt="제품소개 배너" />
      <div class="banner-text">
        <h1>제품소개</h1>
        <p>해양 방산 현장을 연결하는 케이블 솔루션</p>
      </div>
    </section>

    <!-- ✅ 3. breadcrumb -->
    <div class="breadcrumb">
      <a href="/">홈</a> &gt;
      <span class="crumb crumb-level1">제품소개</span> &gt;
      <span class="crumb crumb-level2">수중고정형케이블</span>
      <div id="side-tabs" class="side-tabs"></div>
    </div>


    <!-- ✅ 본문 -->
    <section class="product-detail">
      <h1>해양관측용 다목적 해저케이블</h1>

      <div class="product-content">
        <!-- 왼쪽 -->
        <div class="product-gallery">
          <div class="main-image">
            <img id="mainImage" src="/img/products/observation-introduction.png" alt="제품 메인 이미지" />
          </div>
          <div class="thumb-list">
            <img src="/img/products/observation-introduction.png" alt="사진1" onclick="changeImage(this)">
          </div>
        </div>

        <!-- 오른쪽 -->
        <div class="product-desc">
          <ul>
            <li>해역 내 해양환경을 실시간으로 관측하고, 수상/수중 이동체 탐지를 
                위한 실시간 관측 모니터링 시스템용 케이블</li>

          </ul>
          <a href="javascript:history.back();" class="back-btn">← 목록보기</a>
        </div>
      </div>
    </section>


    <!-- ✅ 팝업 (큰 이미지 보기) -->
    <div id="imgModal" class="modal" onclick="closeModal()">
      <span class="close">&times;</span>
      <img class="modal-content" id="modalImage">
    </div>


    <!-- ✅ 5. 푸터 -->
    <div id="footer"></div>

    <script>
    document.addEventListener("DOMContentLoaded", () => {
      // ✅ header 불러오기
      fetch("../../components/header.html")
        .then(res => res.text())
        .then(html => {
          document.getElementById("header").innerHTML = html;
          const langScript = document.createElement("script");
          langScript.src = "/js/language.js";
          document.body.appendChild(langScript);
        });

      // ✅ footer 불러오기
      fetch("../../components/footer.html")
        .then(res => res.text())
        .then(html => document.getElementById("footer").innerHTML = html);
    });

    </script>

    <script>
    function changeImage(img) {
      // 썸네일 클릭 시 메인 이미지 변경
      const raw = img.getAttribute('src');
      if (!raw || raw === '#') return;
      document.getElementById("mainImage").src = raw;

      // active 표시
      document.querySelectorAll(".thumb-list img").forEach(t => t.classList.remove("active"));
      img.classList.add("active");
    }

    document.getElementById("mainImage").addEventListener("click", function() {
      // 이미지 클릭 시 모달 열기
      const modal = document.getElementById("imgModal");
      const modalImg = document.getElementById("modalImage");
      modal.style.display = "block";
      modalImg.src = this.src;
    });

    function closeModal() {
      // 모달 닫기
      document.getElementById("imgModal").style.display = "none";
    }

    // Esc로 닫기
    document.addEventListener("keydown", (e) => {
      if (e.key === "Escape") closeModal();
    });

    // ✅ 페이지 로드 후 동작
    document.addEventListener("DOMContentLoaded", () => {
      const thumbs = Array.from(document.querySelectorAll(".thumb-list img"));
      const validThumbs = thumbs.filter(t => {
        const src = t.getAttribute("src");
        return src && src !== "#" && src.trim() !== "";
      });

      // 유효한 썸네일만 남기고, 나머지(#)는 숨기기
      thumbs.forEach(t => {
        if (!validThumbs.includes(t)) t.style.display = "none";
      });

      // 메인 이미지와 썸네일 싱크 맞추기
      if (validThumbs.length > 0) {
        document.getElementById("mainImage").src = validThumbs[0].getAttribute("src");
        validThumbs[0].classList.add("active");
      }
    });
    </script>


    <!-- ✅ 공통 네비 관련 스크립트 -->
    <script src="/js/nav.js"></script>
  </body>
</html>
