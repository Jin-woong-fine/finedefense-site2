<!-- /kr/sub/support/recruit/index.html -->
<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=1200">
  <title>ì±„ìš©ì•ˆë‚´ | Fine Defense</title>

  <!-- ê³µí†µ CSS -->
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/css/sub-banner.css">

    <style>
    :root {
      --bg: #f6f7f9;
      --card: #ffffff;
      --text: #1f2937;        /* ë©”ì¸ í…ìŠ¤íŠ¸ */
      --subtext: #6b7280;     /* ğŸ”¥ ë” ì—°í•œ íšŒìƒ‰ */
      --muted: #9ca3af;       /* ë³´ì¡° ì •ë³´ */
      --accent: #2563eb;      /* ëœ íŠ€ëŠ” ë¸”ë£¨ */
      --border: #e5e7eb;
    }

    body {
        background: var(--bg);
        font-family: -apple-system, BlinkMacSystemFont,
                    "Apple SD Gothic Neo", "Noto Sans KR",
                    "Segoe UI", sans-serif;
        margin: 0;
        color: #1f2937; /* ë‹¤í¬ê·¸ë ˆì´ */
    }

    .recruit-wrapper {
        max-width: 980px;
        margin: 100px auto;
        padding: 0 20px;
    }

    .section-title {
      font-size: 26px;
      font-weight: 600;
      color: var(--text);
      margin-bottom: 20px;
      letter-spacing: -0.015em;
    }

    /* ===============================
        ì±„ìš©ê³µê³  ì¹´ë“œ
    =============================== */
    .recruit-item {
      background: #ffffff;
      border-radius: 12px;
      padding: 20px 24px;
      border: 1px solid #e5e7eb;
      box-shadow: none;           /* ê·¸ë¦¼ì ì œê±° */
    }

    .recruit-item:hover {
      background: #f9fafb;        /* ìƒ‰ë§Œ ì‚´ì§ */
    }

    .recruit-item h3 {
      font-size: 18px;
      font-weight: 500;   /* ğŸ”¥ 600 â†’ 500 */
      line-height: 1.5;
      color: #111827;
    }

    /* ì„ íƒëœ ì±„ìš©ê³µê³  */
    .recruit-item.active {
      background: #eef5ff;
      border-left: 4px solid var(--accent);
    }

    .recruit-meta {
      font-size: 13px;
      color: #9ca3af;   /* ì•„ì£¼ ì—°í•œ íšŒìƒ‰ */
      margin-top: 4px;
    }

    .recruit-item::before {
      content: "";
      position: absolute;      /* â­ absolute */
      left: 0;
      top: 16px;
      bottom: 16px;
      width: 3px;
      background: transparent;
      border-radius: 2px;
    }

    .recruit-item:hover::before {
      background: var(--accent);
    }




    /* ===============================
        ì§€ì›ì„œ ì¹´ë“œ
    =============================== */
    .apply-wrapper {
      background: #f9fafb;
      border-radius: 20px;
      padding: 44px 48px;
    }


    /* ===============================
        ì…ë ¥ í•„ë“œ
    =============================== */
    .form-group {
        margin-bottom: 28px;
    }

    .form-group input,
    .form-group textarea {
        width: 100%;
        padding: 18px 16px;
        font-size: 16px;
        border-radius: 14px;
        border: 1px solid var(--border);
        background: #fff;
        transition: border-color 0.2s;
    }

    .form-group input:focus,
    .form-group textarea:focus {
        outline: none;
        border-color: var(--accent);
    }

    .form-group textarea {
        resize: none;
        height: 140px;
    }

    /* ===============================
        íŒŒì¼ ì—…ë¡œë“œ
    =============================== */
    .file-group {
        margin-bottom: 28px;
    }

    .file-group label {
        display: inline-block;
        font-size: 14px;
        font-weight: 600;
        color: #1d1d1f;
        margin-bottom: 8px;
        padding: 6px 10px;
        background: #f2f4f8;
        border-radius: 8px;
    }


    .file-group input[type="file"] {
        display: block;
        margin-top: 10px;
        padding: 14px 16px;
        border-radius: 12px;
        border: 1px dashed #cfd6e4;
        background: #ffffff;
        font-size: 14px;
        color: #444;
        cursor: pointer;
    }

    .file-group input[type="file"]:hover {
        background: #f9fafc;
        border-color: #0071e3;
    }


    .file-desc {
        font-size: 13px;
        color: #6e6e73;
        margin-top: 6px;
        margin-left: 4px;
        line-height: 1.5;
    }

    input[type="file"] {
        border: none;
        font-size: 14px;
    }

    /* ===============================
        ë²„íŠ¼
    =============================== */
    .btn-submit {
        width: 100%;
        padding: 18px;
        font-size: 17px;
        font-weight: 600;
        border-radius: 16px;
        border: none;
        background: var(--accent);
        color: #fff;
        cursor: pointer;
        transition: background 0.2s;
    }

    .btn-submit:hover {
        background: #005ecb;
    }

    /* ===============================
      í†µí•© í™”ì´íŠ¸ ì¹´ë“œ
    =============================== */
    .recruit-card {
      background: var(--card);
      border-radius: 24px;
      padding: 56px 64px;
      box-shadow: 0 20px 50px rgba(0,0,0,0.08);
    }

    /* ì„¹ì…˜ êµ¬ë¶„ì„  */
    .section-divider {
      height: 1px;
      background: var(--border);
      margin: 64px 0;
    }

    /* ê°œì¸ì •ë³´ ë™ì˜ */
    .privacy-box {
      margin: 40px 0 24px;
      padding: 20px 24px;
      background: #f9f9fb;
      border-radius: 14px;
      font-size: 14px;
    }

    .privacy-check {
      font-weight: 600;
      display: block;
      margin-bottom: 10px;
    }

    .privacy-check input {
      margin-right: 6px;
    }

    .apply-desc,
    .privacy-desc {
      color: #6b7280;
      font-size: 14px;
      margin-bottom: 56px;   /* â­ í•µì‹¬ */
      line-height: 1.7;
    }


    /* ì œëª© */
    .recruit-item h3 {
      font-size: 20px;
      font-weight: 600;
      margin: 0 0 6px;
      letter-spacing: -0.01em;
    }

    /* ë©”íƒ€ ì •ë³´ */
    .recruit-meta {
      font-size: 14px;
      color: var(--subtext);
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
    }

    /* ë©”íƒ€ êµ¬ë¶„ì  */
    .recruit-meta span::after {
      content: "Â·";
      margin-left: 10px;
    }

    .recruit-meta span:last-child::after {
      content: "";
    }

    /* ===============================
      ì±„ìš©ê³µê³  ì„¹ì…˜ ë°°ê²½
    =============================== */

    .recruit-section {
      background: #f7f9fc;
      border-radius: 20px;
      padding: 36px 40px;
      margin-bottom: 80px;
    }

    .section-divider {
      height: 1px;
      background: #e5e7eb;
      margin: 80px 0;
    }


    .char-count {
      font-size: 13px;
      color: #6e6e73;
      text-align: right;
      margin-top: 6px;
    }

    </style>

</head>

<body>

<!-- ê´€ë¦¬ì ì„¸ì…˜ë°” -->
<div id="adminBarContainer" data-include="/kr/components/admin-session-bar.html"></div>

<!-- ê³µí†µ í—¤ë” -->
<div id="headerContainer" data-include="/kr/components/header.html"></div>

<!-- ì„œë¸Œ ë°°ë„ˆ -->
<section class="sub-banner">
  <img src="/img/sub-banners/subbanner_support_6.png" alt="1:1ë¬¸ì˜">
  <div class="banner-text">
    <h1>ê³ ê°ì§€ì›</h1>
    <p>ì „ë¬¸ ê¸°ìˆ ì§€ì›ê³¼ ìµœì‹  ìë£Œë¥¼ í•œê³³ì—ì„œ ì†ì‰½ê²Œ ì´ìš©í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
    </div>
</section>

<!-- breadcrumb -->
<div class="breadcrumb">
  <a href="/kr/index.html">í™ˆ</a> &gt;
  <span class="crumb crumb-level1 active">ê³ ê°ì§€ì›</span> &gt;
  <span class="crumb crumb-level2 active">ì±„ìš©ì•ˆë‚´ ë° ì§€ì›</span>
  <div id="side-tabs"></div>
</div>

<!-- ë©”ì¸ -->
<div class="recruit-wrapper">

  <!-- í†µí•© ì¹´ë“œ -->
  <div class="recruit-card">

    <!-- ì±„ìš©ê³µê³  -->
    <div class="recruit-section">
      <div class="section-title">ì±„ìš© ê³µê³ </div>
      <div class="recruit-list" id="recruitList">
        <!-- ê´€ë¦¬ì DBì—ì„œ ë¡œë“œ -->
      </div>
    </div>

    <div class="section-divider"></div>


    <!-- ì§€ì›í•˜ê¸° -->
    <div class="apply-wrapper">
      <div class="section-title">ì¸ì¬ DB ë“±ë¡</div>
      <div class="apply-desc">
        Fine DefenseëŠ” ì—°êµ¬ê°œë°œ, ìƒì‚°, í’ˆì§ˆ, ê²½ì˜ê´€ë¦¬ ë“±
        ì‚¬ì—… ì „ë°˜ì— ê±¸ì³ ìƒì‹œ ì¸ì¬ DBë¥¼ ìš´ì˜í•˜ê³  ìˆìŠµë‹ˆë‹¤.<br>
        ì•„ë˜ ì–‘ì‹ì„ í†µí•´ ì¸ì¬ ì •ë³´ë¥¼ ë“±ë¡í•´ì£¼ì‹œë©´,
        í–¥í›„ ì±„ìš©ì´ ì§„í–‰ë  ê²½ìš° ìš°ì„ ì ìœ¼ë¡œ ê²€í† ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br><br>

        ì´ë ¥ì„œëŠ” <strong>PDF ë° ì´ë¯¸ì§€(JPG, PNG)</strong> íŒŒì¼ë§Œ ì—…ë¡œë“œ ê°€ëŠ¥í•˜ë©°,
        íŒŒì¼ë‹¹ ìµœëŒ€ ìš©ëŸ‰ì€ <strong>10MB</strong>ì…ë‹ˆë‹¤.<br>
        ë“±ë¡ëœ ê°œì¸ì •ë³´ ë° ì œì¶œ ì„œë¥˜ëŠ”
        ì¸ì¬ DB ê´€ë¦¬ ëª©ì ì„ ìœ„í•´ ìµœëŒ€ <strong>12ê°œì›”</strong>ê°„ ë³´ê´€ë˜ë©°,
        ë³´ê´€ ê¸°ê°„ ê²½ê³¼ í›„ì—ëŠ” ë‚´ë¶€ ì •ì±…ì— ë”°ë¼ íŒŒê¸° ë˜ëŠ” ë¶„ë¦¬ ë³´ê´€ë©ë‹ˆë‹¤.<br><br>

        <strong>ì‚¬ì—…ì¥ ë° ëª¨ì§‘ ë¶„ì•¼</strong><br>
        â€¢ ì•ˆì–‘ ì‚¬ë¬´ì†Œ (ì—°êµ¬Â·ê´€ë¦¬ ë¶€ë¬¸)<br>
        &nbsp;&nbsp;- ì—°êµ¬ì†Œ: ê³¼ì œê´€ë¦¬, ìˆ˜ì¤‘ì¼€ì´ë¸” ì„¤ê³„, ìˆ˜ì¤‘ì»¤ë„¥í„° ì„¤ê³„<br>
        &nbsp;&nbsp;- ì¼ë°˜ê´€ë¦¬: ê²½ì˜ì§€ì› â€“ ì¬ë¬´Â·íšŒê³„ ë° êµ­ê°€ R&D ê³¼ì œ ìê¸ˆê´€ë¦¬<br><br>

        â€¢ ì˜¥ì²œ ê³µì¥ (ìƒì‚°Â·í’ˆì§ˆ ë¶€ë¬¸)<br>
        &nbsp;&nbsp;- ìƒì‚°: ìƒì‚°, ìƒì‚°ê¸°ìˆ , ìƒì‚°ê´€ë¦¬<br>
        &nbsp;&nbsp;- í’ˆì§ˆ: ì‹œí—˜, í’ˆì§ˆê´€ë¦¬
      </div>


      <div class="form-group">
        <label for="name">ì´ë¦„</label>
        <input type="text" id="name" placeholder=" " required>
      </div>

      <div class="form-group">
        <label for="email">ì´ë©”ì¼</label>
        <input type="email" id="email" placeholder=" " required>
      </div>

      <div class="form-group">
        <label for="message">ìê¸°ì†Œê°œ / ì „ë‹¬ì‚¬í•­ (500ì ì´ë‚´)</label>
        <textarea id="message"
                  maxlength="500"
                  placeholder="ìê¸°ì†Œê°œ ë° ì „ë‹¬ì‚¬í•­ (ìµœëŒ€ 500ì)">
        </textarea>
        <div class="char-count">
          <span id="messageCount">0</span> / 500
        </div>

      </div>

      <!-- íŒŒì¼ ì—…ë¡œë“œ -->
      <div class="file-group">
        <label>ì´ë ¥ì„œ (í•„ìˆ˜)</label>
        <div class="file-desc">PDF ë˜ëŠ” ì´ë¯¸ì§€(JPG, PNG)</div>
        <input type="file" id="file_resume" accept=".pdf,.jpg,.jpeg,.png" required>
      </div>

      <div class="file-group">
        <label>ìê¸°ì†Œê°œì„œ (ì„ íƒ)</label>
        <input type="file" id="file_cover" accept=".pdf,.jpg,.jpeg,.png">
      </div>

      <div class="file-group">
        <label>ì°¸ê³  ìë£Œ (ì„ íƒ)</label>
        <input type="file" id="file_portfolio" accept=".pdf,.jpg,.jpeg,.png">
        <div class="file-desc">
          ê´€ë ¨ ìë£Œê°€ ìˆìœ¼ì‹  ê²½ìš° ììœ ë¡­ê²Œ ì²¨ë¶€í•´ì£¼ì„¸ìš”. ì œì¶œí•˜ì§€ ì•Šìœ¼ì…”ë„ ì§€ì›ì— ë¶ˆì´ìµì€ ì—†ìŠµë‹ˆë‹¤.
        </div>
      </div>

      <!-- ê°œì¸ì •ë³´ ìˆ˜ì§‘Â·ì´ìš© ë™ì˜ -->
      <div class="privacy-box">
        <label class="privacy-check">
          <input type="checkbox" id="agree_privacy" required>
          ê°œì¸ì •ë³´ ìˆ˜ì§‘Â·ì´ìš©ì— ë™ì˜í•©ë‹ˆë‹¤. (í•„ìˆ˜)
        </label>
        <div class="privacy-desc">
          â€¢ ìˆ˜ì§‘ í•­ëª©: ì´ë¦„, ì´ë©”ì¼, ì§€ì› ë‚´ìš©, ì´ë ¥ì„œ ë° ì²¨ë¶€ íŒŒì¼<br>
          â€¢ ìˆ˜ì§‘ ëª©ì : ì¸ì¬ DB ê´€ë¦¬ ë° í–¥í›„ ì±„ìš© ê²€í† <br>
          â€¢ ë³´ê´€ ê¸°ê°„: ì¸ì¬ DB ê´€ë¦¬ ëª©ì ì„ ìœ„í•´ ìµœëŒ€ 12ê°œì›”ê°„ ë³´ê´€ë˜ë©°,
                      ë³´ê´€ ê¸°ê°„ ê²½ê³¼ í›„ì—ëŠ” ë‚´ë¶€ ì •ì±…ì— ë”°ë¼ íŒŒê¸° ë˜ëŠ” ë¶„ë¦¬ ë³´ê´€ë©ë‹ˆë‹¤.<br><br>
          â€» ê°œì¸ì •ë³´ ìˆ˜ì§‘Â·ì´ìš©ì— ëŒ€í•œ ë™ì˜ë¥¼ ê±°ë¶€í•  ìˆ˜ ìˆìœ¼ë‚˜, ë™ì˜í•˜ì§€ ì•Šì„ ê²½ìš° ì¸ì¬ DB ë“±ë¡ì´ ì œí•œë©ë‹ˆë‹¤.
        </div>
      </div>

      <button class="btn-submit" onclick="submitApplication()">ì¸ì¬ DB ë“±ë¡</button>
    </div>
  </div>
</div>

<!-- ê³µí†µ í‘¸í„° -->
<div data-include="/kr/components/footer.html"></div>

<!-- ê³µí†µ ìŠ¤í¬ë¦½íŠ¸ -->
<script src="/js/include.js"></script>
<script src="/js/session_timer.js"></script>
<script src="/js/nav.js"></script>

<script>

  const messageEl = document.getElementById("message");
  const countEl = document.getElementById("messageCount");

  messageEl.addEventListener("input", () => {
    countEl.textContent = messageEl.value.length;
  });




  /* ì±„ìš©ê³µê³  ëª©ë¡ ë¡œë“œ (ê³µê°œ ê³µê³ ë§Œ) */
  async function loadRecruitList() {
    try {
      const res = await fetch("/api/recruit/public/list");
      if (!res.ok) return;

      const list = await res.json();

      const wrap = document.getElementById("recruitList");
      wrap.innerHTML = "";

      if (list.length === 0) {
        wrap.innerHTML = "<p>í˜„ì¬ ì§„í–‰ ì¤‘ì¸ ì±„ìš©ê³µê³ ê°€ ì—†ìŠµë‹ˆë‹¤.</p>";
        return;
      }

      list.forEach(item => {
        const div = document.createElement("div");
        div.className = "recruit-item";
        div.innerHTML = `
          <h3>${item.title}</h3>
          <div class="recruit-meta">
            ${item.employment_type || "-"} Â·
            ${item.career_level || "-"} Â·
            ${item.location || "-"}
          </div>
        `;

        div.onclick = () => {
          location.href =
            `/kr/sub/support/recruit/recruit-view.html?id=${item.id}`;
        };

        wrap.appendChild(div);
      });

    } catch (err) {
      console.error("ì±„ìš©ê³µê³  ë¡œë“œ ì‹¤íŒ¨:", err);
    }
  }

  loadRecruitList();




/* ì§€ì›ì„œ ì œì¶œ */
async function submitApplication() {

  if (!document.getElementById("agree_privacy").checked) {
    alert("ê°œì¸ì •ë³´ ìˆ˜ì§‘Â·ì´ìš©ì— ë™ì˜í•˜ì…”ì•¼ ì¸ì¬ DB ë“±ë¡ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.");
    return;
  }

  const resume = document.getElementById("file_resume").files[0];
  if (!resume) {
    alert("ì´ë ¥ì„œë¥¼ ì²¨ë¶€í•´ì£¼ì„¸ìš”.");
    return;
  }

  const MAX_SIZE = 10 * 1024 * 1024;
  if (resume.size > MAX_SIZE) {
    alert("ì´ë ¥ì„œëŠ” ìµœëŒ€ 10MBê¹Œì§€ ì—…ë¡œë“œ ê°€ëŠ¥í•©ë‹ˆë‹¤.");
    return;
  }

  const formData = new FormData();
  formData.append("name", document.getElementById("name").value);
  formData.append("email", document.getElementById("email").value);
  formData.append("message", document.getElementById("message").value);

  formData.append("resume", document.getElementById("file_resume").files[0]);
  if (document.getElementById("file_cover").files[0])
    formData.append("cover", document.getElementById("file_cover").files[0]);
  if (document.getElementById("file_portfolio").files[0])
    formData.append("portfolio", document.getElementById("file_portfolio").files[0]);

  const res = await fetch("/api/recruit/apply", {
    method: "POST",
    body: formData
  });

  if (res.ok) {
    alert("ì¸ì¬ ì •ë³´ê°€ ì •ìƒì ìœ¼ë¡œ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤.");
    location.reload();
  } else {
    alert("ë“±ë¡ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.");
  }
}

loadRecruitList();
</script>

</body>
</html>
